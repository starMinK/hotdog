<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reset-css@5.0.1/reset.min.css">
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"/>
    <script src="https://kit.fontawesome.com/3847ec6431.js" crossorigin="anonymous"></script>

    {% block title %}
    <!--  페이지별 타이틀 공간  -->
    <title>Document</title>
    {% endblock title %}

    {% block scripts %}
    <!--  페이지별 스크립트 공간  -->
    {% endblock scripts %}
    <script>
        function login() {
            console.log($('#sidebar_id').val(), $('#sidebar_password').val())
            $.ajax({
                type: "POST",
                url: "/api/login",
                data: {id_give: $('#sidebar_id').val(), pw_give: $('#sidebar_password').val()},
                success: function (response) {
                    if (response['result'] == 'success') {
                        // 로그인이 정상적으로 되면, 토큰을 받아옵니다.
                        // 이 토큰을 mytoken이라는 키 값으로 쿠키에 저장합니다.
                        $.cookie('mytoken', response['token']);
                        alert('로그인 완료!')
                        window.location.reload()
                    } else {
                        // 로그인이 안되면 에러메시지를 띄웁니다.
                        alert(response['msg'])
                    }
                }
            })
        }

        function goRegister() {
            window.location.href = ("/register")
        }

        function cookieCheck() {
            if (document.cookie) {
                let tempHtml = ``;
                $('.sidebar').empty();

                tempHtml = `<div class="sidebar_navBtn">
                    <button>리뷰보기</button>
                    <button>메뉴보기</button>
                </div>`

                $('.sidebar').append(tempHtml);
            }
        }
    </script>
    <style>
        img {
            width: 300px;
            height: 56px;
        }

        header {
            height: 200px;
            margin: 0;
            background-color: #FDEDD3;
        }

        .inner {
            /* background-color: yellowgreen; */
            height: inherit;
            width: 1200px;
            margin: auto;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .inner > label > .material-symbols-outlined {
            position: absolute;
            top: 0;
            right: 20px;
            /* width: 200px; */
            font-size: 40px;
            height: 50px;
            border: none;
            z-index: 10;
            background-color: inherit;
        }

        /* sidebar */
        .sidebar {
            width: 300px;
            height: 100%;
            background-color: #FCAA16;
            position: fixed;
            top: 0;
            right: -300px;
            z-index: 1;
            transition: all .35s;
            display: flex;
            flex-direction: column;
        }

        .sidebar > .sidebar_login {
            text-align: center;
            width: 300px;
            height: 250px;
            margin: 120px 0px 0px 0px;
        }


        .sidebar > .sidebar_login > label > input {
            margin-top: 25px;
            margin-bottom: 30px;
            height: 25px;
        }

        .sidebar > .sidebar_navBtn {
            display: flex;
            flex-direction: column;
            text-align: center;
            margin: 20px 10px 50px 50px;
            width: 200px;
            height: 150px;
        }

        .sidebar > .sidebar_navBtn > button {
            margin: 15px;
            font-size: 20px;
            border: 2px solid white;
            border-radius: 5px;
            background-color: white
        }

        input[id ="menucion"]:checked + .inner > label > .sidebar {
            right: 0;
        }
    </style>
</head>

<body>
<header>
    <input type="checkbox" id="menucion" style="display: none"/>
    <div class="inner">
        <img src="https://myungranghotdog.com/images/site/kor/layout/logo.png" alt="로고 이미지">
        <label for="menucion">
            <div class="material-symbols-outlined">
                menu
            </div>
            <div class="sidebar">
                <fieldset class="sidebar_login">
                    <legend> 로그인</legend>
                    <label for="sidebar_id">아이디: <input type="text" placeholder="비밀번호" id="sidebar_id"
                                                        style="margin-left: 21px"/></label><br>
                    <label for="sidebar_password">비밀번호: <input type="password" placeholder="비밀번호"
                                                               id="sidebar_password"
                                                               style="margin-left: 5px"/></label><br>
                    <input type="submit" value="로그인 하기" onclick="login()"/>
                </fieldset>
                <div class="sidebar_navBtn">
                    <button onclick="goRegister()">회원가입</button>
                    <button>리뷰보기</button>
                    <button>메뉴보기</button>
                </div>
            </div>
        </label>
    </div>
</header>
{% block content %} {% endblock content %}
</body>
</html>
